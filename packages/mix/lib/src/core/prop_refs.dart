import 'package:flutter/widgets.dart';

import '../theme/tokens/token_refs.dart';
import 'prop.dart';

/// Token reference for [AlignmentGeometry] values
final class AlignmentGeometryRef extends Prop<AlignmentGeometry>
    with ValueRef<AlignmentGeometry>
    implements AlignmentGeometry {
  AlignmentGeometryRef(super.prop) : super.fromProp();
}

/// Token reference for [Alignment] values
final class AlignmentRef extends Prop<Alignment>
    with ValueRef<Alignment>
    implements Alignment {
  AlignmentRef(super.prop) : super.fromProp();
}

/// Token reference for [AlignmentDirectional] values
final class AlignmentDirectionalRef extends Prop<AlignmentDirectional>
    with ValueRef<AlignmentDirectional>
    implements AlignmentDirectional {
  AlignmentDirectionalRef(super.prop) : super.fromProp();
}

/// Token reference for [FontFeature] values
final class FontFeatureRef extends Prop<FontFeature>
    with ValueRef<FontFeature>
    implements FontFeature {
  FontFeatureRef(super.prop) : super.fromProp();
}

/// Token reference for [Duration] values
final class DurationRef extends Prop<Duration>
    with ValueRef<Duration>
    implements Duration {
  DurationRef(super.prop) : super.fromProp();
}

/// Token reference for [FontWeight] values
final class FontWeightRef extends Prop<FontWeight>
    with ValueRef<FontWeight>
    implements FontWeight {
  FontWeightRef(super.prop) : super.fromProp();
}

/// Token reference for [TextDecoration] values
final class TextDecorationRef extends Prop<TextDecoration>
    with ValueRef<TextDecoration>
    implements TextDecoration {
  TextDecorationRef(super.prop) : super.fromProp();
}

/// Token reference for [Offset] values
final class OffsetRef extends Prop<Offset>
    with ValueRef<Offset>
    implements Offset {
  OffsetRef(super.prop) : super.fromProp();
}

/// Token reference for [Rect] values
final class RectRef extends Prop<Rect> with ValueRef<Rect> implements Rect {
  RectRef(super.prop) : super.fromProp();
}

/// Token reference for [Locale] values
final class LocaleRef extends Prop<Locale>
    with ValueRef<Locale>
    implements Locale {
  LocaleRef(super.prop) : super.fromProp();
}

/// Token reference for [ImageProvider] values
final class ImageProviderRef extends Prop<ImageProvider>
    with ValueRef<ImageProvider>
    implements ImageProvider {
  ImageProviderRef(super.prop) : super.fromProp();
}

/// Token reference for [GradientTransform] values
final class GradientTransformRef extends Prop<GradientTransform>
    with ValueRef<GradientTransform>
    implements GradientTransform {
  GradientTransformRef(super.prop) : super.fromProp();
}

/// Token reference for [Matrix4] values
final class Matrix4Ref extends Prop<Matrix4>
    with ValueRef<Matrix4>
    implements Matrix4 {
  Matrix4Ref(super.prop) : super.fromProp();
}

/// Token reference for [TextScaler] values
final class TextScalerRef extends Prop<TextScaler>
    with ValueRef<TextScaler>
    implements TextScaler {
  TextScalerRef(super.prop) : super.fromProp();
}

/// Token reference for [TableColumnWidth] values
final class TableColumnWidthRef extends Prop<TableColumnWidth>
    with ValueRef<TableColumnWidth>
    implements TableColumnWidth {
  TableColumnWidthRef(super.prop) : super.fromProp();
}

/// Token reference for [TableBorder] values
final class TableBorderRef extends Prop<TableBorder>
    with ValueRef<TableBorder>
    implements TableBorder {
  TableBorderRef(super.prop) : super.fromProp();
}

/// Token reference for [StrutStyle] values
final class StrutStyleRef extends Prop<StrutStyle>
    with ValueRef<StrutStyle>
    implements StrutStyle {
  StrutStyleRef(super.prop) : super.fromProp();

  @override
  String toString({DiagnosticLevel minLevel = DiagnosticLevel.info}) {
    return super.toString();
  }
}

/// Token reference for [TextHeightBehavior] values
final class TextHeightBehaviorRef extends Prop<TextHeightBehavior>
    with ValueRef<TextHeightBehavior>
    implements TextHeightBehavior {
  TextHeightBehaviorRef(super.prop) : super.fromProp();

  @override
  String toString({DiagnosticLevel minLevel = DiagnosticLevel.info}) {
    return super.toString();
  }
}

/// Token reference for [BoxBorder] values
final class BoxBorderRef extends Prop<BoxBorder>
    with ValueRef<BoxBorder>
    implements BoxBorder {
  BoxBorderRef(super.prop) : super.fromProp();
}

/// Token reference for [BorderRadiusGeometry] values
final class BorderRadiusGeometryRef extends Prop<BorderRadiusGeometry>
    with ValueRef<BorderRadiusGeometry>
    implements BorderRadiusGeometry {
  BorderRadiusGeometryRef(super.prop) : super.fromProp();
}

/// Token reference for [BorderRadius] values
final class BorderRadiusRef extends Prop<BorderRadius>
    with ValueRef<BorderRadius>
    implements BorderRadius {
  BorderRadiusRef(super.prop) : super.fromProp();
}

/// Token reference for [BorderRadiusDirectional] values
final class BorderRadiusDirectionalRef extends Prop<BorderRadiusDirectional>
    with ValueRef<BorderRadiusDirectional>
    implements BorderRadiusDirectional {
  BorderRadiusDirectionalRef(super.prop) : super.fromProp();
}

/// Token reference for [Gradient] values
final class GradientRef extends Prop<Gradient>
    with ValueRef<Gradient>
    implements Gradient {
  GradientRef(super.prop) : super.fromProp();
}

/// Token reference for [LinearGradient] values.
final class LinearGradientRef extends Prop<LinearGradient>
    with ValueRef<LinearGradient>
    implements LinearGradient {
  LinearGradientRef(super.prop) : super.fromProp();
}

/// Token reference for [RadialGradient] values.
final class RadialGradientRef extends Prop<RadialGradient>
    with ValueRef<RadialGradient>
    implements RadialGradient {
  RadialGradientRef(super.prop) : super.fromProp();
}

/// Token reference for [SweepGradient] values.
final class SweepGradientRef extends Prop<SweepGradient>
    with ValueRef<SweepGradient>
    implements SweepGradient {
  SweepGradientRef(super.prop) : super.fromProp();
}

/// Token reference for [EdgeInsetsGeometry] values
final class EdgeInsetsGeometryRef extends Prop<EdgeInsetsGeometry>
    with ValueRef<EdgeInsetsGeometry>
    implements EdgeInsetsGeometry {
  EdgeInsetsGeometryRef(super.prop) : super.fromProp();
}

/// Token reference for [EdgeInsets] values
final class EdgeInsetsRef extends Prop<EdgeInsets>
    with ValueRef<EdgeInsets>
    implements EdgeInsets {
  EdgeInsetsRef(super.prop) : super.fromProp();
}

/// Token reference for [EdgeInsetsDirectional] values
final class EdgeInsetsDirectionalRef extends Prop<EdgeInsetsDirectional>
    with ValueRef<EdgeInsetsDirectional>
    implements EdgeInsetsDirectional {
  EdgeInsetsDirectionalRef(super.prop) : super.fromProp();
}

/// Token reference for [BoxDecoration] values
final class BoxDecorationRef extends Prop<BoxDecoration>
    with ValueRef<BoxDecoration>
    implements BoxDecoration {
  BoxDecorationRef(super.prop) : super.fromProp();

  @override
  String toString({DiagnosticLevel minLevel = DiagnosticLevel.info}) {
    return super.toString();
  }
}

/// Token reference for [BorderSide] values.
final class BorderSideRef extends Prop<BorderSide>
    with ValueRef<BorderSide>
    implements BorderSide {
  BorderSideRef(super.prop) : super.fromProp();

  @override
  String toString({DiagnosticLevel minLevel = DiagnosticLevel.info}) {
    return super.toString();
  }
}

/// Token reference for [ShapeBorder] values
final class ShapeBorderRef extends Prop<ShapeBorder>
    with ValueRef<ShapeBorder>
    implements ShapeBorder {
  ShapeBorderRef(super.prop) : super.fromProp();

  @override
  String toString({DiagnosticLevel minLevel = DiagnosticLevel.info}) {
    return super.toString();
  }
}

/// Token reference for [BoxConstraints] values
final class BoxConstraintsRef extends Prop<BoxConstraints>
    with ValueRef<BoxConstraints>
    implements BoxConstraints {
  BoxConstraintsRef(super.prop) : super.fromProp();
}

/// Token reference for [DecorationImage] values
final class DecorationImageRef extends Prop<DecorationImage>
    with ValueRef<DecorationImage>
    implements DecorationImage {
  DecorationImageRef(super.prop) : super.fromProp();
}

/// Token reference for [Curve] values
final class CurveRef extends Prop<Curve> with ValueRef<Curve> implements Curve {
  CurveRef(super.prop) : super.fromProp();
}

/// Asserts that the given type is not a token reference type.
///
/// Used in testing to ensure proper type usage in generics.
@visibleForTesting
void assertIsRealType(Type value) {
  // Only check if the value is a TokenRef type that should be replaced
  final Type? realType = switch (value) {
    // Color types
    == ColorRef => Color,

    // Border types
    == BorderSideRef => BorderSide,
    == BoxBorderRef => BoxBorder,
    == BorderRadiusRef => BorderRadius,
    == BorderRadiusDirectionalRef => BorderRadiusDirectional,
    == BorderRadiusGeometryRef => BorderRadiusGeometry,

    // Gradient types
    == GradientRef => Gradient,
    == LinearGradientRef => LinearGradient,
    == RadialGradientRef => RadialGradient,
    == SweepGradientRef => SweepGradient,
    == GradientTransformRef => GradientTransform,

    // Geometry types
    == AlignmentGeometryRef => AlignmentGeometry,
    == AlignmentRef => Alignment,
    == AlignmentDirectionalRef => AlignmentDirectional,
    == EdgeInsetsGeometryRef => EdgeInsetsGeometry,
    == EdgeInsetsRef => EdgeInsets,
    == EdgeInsetsDirectionalRef => EdgeInsetsDirectional,

    // Shape and decoration types
    == RadiusRef => Radius,
    == OffsetRef => Offset,
    == RectRef => Rect,
    == ShadowRef => Shadow,
    == BoxShadowRef => BoxShadow,
    == BoxDecorationRef => BoxDecoration,
    == DecorationImageRef => DecorationImage,
    == ShapeBorderRef => ShapeBorder,
    == BoxConstraintsRef => BoxConstraints,

    // Text types
    == TextStyleRef => TextStyle,
    == TextDecorationRef => TextDecoration,
    == StrutStyleRef => StrutStyle,
    == TextHeightBehaviorRef => TextHeightBehavior,
    == TextScalerRef => TextScaler,
    == FontFeatureRef => FontFeature,
    == FontWeightRef => FontWeight,

    // Other types
    == LocaleRef => Locale,
    == ImageProviderRef => ImageProvider,
    == Matrix4Ref => Matrix4,
    == TableColumnWidthRef => TableColumnWidth,
    == TableBorderRef => TableBorder,
    == DurationRef => Duration,
    == CurveRef => Curve,

    // All other types are valid - not TokenRef types
    _ => null,
  };

  assert(
    realType == null,
    'Cannot use $value for generic, use $realType instead.',
  );
}
